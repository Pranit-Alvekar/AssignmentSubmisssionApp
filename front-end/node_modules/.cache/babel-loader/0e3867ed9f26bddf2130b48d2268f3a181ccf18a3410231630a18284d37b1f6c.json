{"ast":null,"code":"import _slicedToArray from\"E:/Project/AssignmentSubmisssionApp/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useUser}from\"../UserProvider\";import jwt_decode from\"jwt-decode\";import dayjs from\"dayjs\";import relativeTime from\"dayjs/plugin/relativeTime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Comment=function Comment(props){var user=useUser();var decodedJwt=jwt_decode(user.jwt);var _props$commentData=props.commentData,id=_props$commentData.id,createdDate=_props$commentData.createdDate,createdBy=_props$commentData.createdBy,text=_props$commentData.text;var emitEditComment=props.emitEditComment,emitDeleteComment=props.emitDeleteComment;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),commentRelativeTime=_useState2[0],setCommentRelativeTime=_useState2[1];useEffect(function(){updateCommentRelativeTime();},[createdDate]);function updateCommentRelativeTime(){if(createdDate){dayjs.extend(relativeTime);if(typeof createdDate===\"string\")setCommentRelativeTime(dayjs(createdDate).fromNow());else{setCommentRelativeTime(createdDate.fromNow());}}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment-bubble\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-5\",style:{fontWeight:\"bold\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[createdBy.name,\":\",\"  \"]}),decodedJwt.sub===createdBy.username?/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return emitEditComment(id);},style:{cursor:\"pointer\",color:\"blue\"},children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return emitDeleteComment(id);},style:{cursor:\"pointer\",color:\"red\"},children:\"Delete\"})]}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(\"div\",{children:text})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"-1.25em\",marginLeft:\"1.4em\",fontSize:\"12px\"},children:commentRelativeTime?\"Posted \".concat(commentRelativeTime):\"\"})]});};export default Comment;","map":{"version":3,"names":["React","useEffect","useState","useUser","jwt_decode","dayjs","relativeTime","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Comment","props","user","decodedJwt","jwt","_props$commentData","commentData","id","createdDate","createdBy","text","emitEditComment","emitDeleteComment","_useState","_useState2","_slicedToArray","commentRelativeTime","setCommentRelativeTime","updateCommentRelativeTime","extend","fromNow","children","className","style","fontWeight","name","sub","username","onClick","cursor","color","marginTop","marginLeft","fontSize","concat"],"sources":["E:/Project/AssignmentSubmisssionApp/front-end/src/Comment/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useUser } from \"../UserProvider\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\n\r\nconst Comment = (props) => {\r\n  const user = useUser();\r\n  const decodedJwt = jwt_decode(user.jwt);\r\n  const { id, createdDate, createdBy, text } = props.commentData;\r\n  const { emitEditComment, emitDeleteComment } = props;\r\n  const [commentRelativeTime, setCommentRelativeTime] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    updateCommentRelativeTime();\r\n  }, [createdDate]);\r\n\r\n  function updateCommentRelativeTime() {\r\n    if (createdDate) {\r\n      dayjs.extend(relativeTime);\r\n\r\n      if (typeof createdDate === \"string\")\r\n        setCommentRelativeTime(dayjs(createdDate).fromNow());\r\n      else {\r\n        setCommentRelativeTime(createdDate.fromNow());\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"comment-bubble\">\r\n        <div className=\"d-flex gap-5\" style={{ fontWeight: \"bold\" }}>\r\n          <div>\r\n            {createdBy.name}:{\"  \"}\r\n          </div>\r\n          {decodedJwt.sub === createdBy.username ? (\r\n            <>\r\n              {\" \"}\r\n              <div\r\n                onClick={() => emitEditComment(id)}\r\n                style={{ cursor: \"pointer\", color: \"blue\" }}\r\n              >\r\n                Edit\r\n              </div>\r\n              <div\r\n                onClick={() => emitDeleteComment(id)}\r\n                style={{ cursor: \"pointer\", color: \"red\" }}\r\n              >\r\n                Delete\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </div>\r\n        <div>{text}</div>\r\n      </div>\r\n      <div\r\n        style={{ marginTop: \"-1.25em\", marginLeft: \"1.4em\", fontSize: \"12px\" }}\r\n      >\r\n        {commentRelativeTime ? `Posted ${commentRelativeTime}` : \"\"}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAO,CAAAC,UAAU,KAAM,YAAY,CACnC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAErD,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,KAAK,CAAK,CACzB,GAAM,CAAAC,IAAI,CAAGZ,OAAO,CAAC,CAAC,CACtB,GAAM,CAAAa,UAAU,CAAGZ,UAAU,CAACW,IAAI,CAACE,GAAG,CAAC,CACvC,IAAAC,kBAAA,CAA6CJ,KAAK,CAACK,WAAW,CAAtDC,EAAE,CAAAF,kBAAA,CAAFE,EAAE,CAAEC,WAAW,CAAAH,kBAAA,CAAXG,WAAW,CAAEC,SAAS,CAAAJ,kBAAA,CAATI,SAAS,CAAEC,IAAI,CAAAL,kBAAA,CAAJK,IAAI,CACxC,GAAQ,CAAAC,eAAe,CAAwBV,KAAK,CAA5CU,eAAe,CAAEC,iBAAiB,CAAKX,KAAK,CAA3BW,iBAAiB,CAC1C,IAAAC,SAAA,CAAsDxB,QAAQ,CAAC,EAAE,CAAC,CAAAyB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3DG,mBAAmB,CAAAF,UAAA,IAAEG,sBAAsB,CAAAH,UAAA,IAElD1B,SAAS,CAAC,UAAM,CACd8B,yBAAyB,CAAC,CAAC,CAC7B,CAAC,CAAE,CAACV,WAAW,CAAC,CAAC,CAEjB,QAAS,CAAAU,yBAAyBA,CAAA,CAAG,CACnC,GAAIV,WAAW,CAAE,CACfhB,KAAK,CAAC2B,MAAM,CAAC1B,YAAY,CAAC,CAE1B,GAAI,MAAO,CAAAe,WAAW,GAAK,QAAQ,CACjCS,sBAAsB,CAACzB,KAAK,CAACgB,WAAW,CAAC,CAACY,OAAO,CAAC,CAAC,CAAC,CAAC,IAClD,CACHH,sBAAsB,CAACT,WAAW,CAACY,OAAO,CAAC,CAAC,CAAC,CAC/C,CACF,CACF,CAEA,mBACEzB,KAAA,CAAAI,SAAA,EAAAsB,QAAA,eACE1B,KAAA,QAAK2B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7B1B,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAACC,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAH,QAAA,eAC1D1B,KAAA,QAAA0B,QAAA,EACGZ,SAAS,CAACgB,IAAI,CAAC,GAAC,CAAC,IAAI,EACnB,CAAC,CACLtB,UAAU,CAACuB,GAAG,GAAKjB,SAAS,CAACkB,QAAQ,cACpChC,KAAA,CAAAI,SAAA,EAAAsB,QAAA,EACG,GAAG,cACJxB,IAAA,QACE+B,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAjB,eAAe,CAACJ,EAAE,CAAC,EAAC,CACnCgB,KAAK,CAAE,CAAEM,MAAM,CAAE,SAAS,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAT,QAAA,CAC7C,MAED,CAAK,CAAC,cACNxB,IAAA,QACE+B,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAhB,iBAAiB,CAACL,EAAE,CAAC,EAAC,CACrCgB,KAAK,CAAE,CAAEM,MAAM,CAAE,SAAS,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAT,QAAA,CAC5C,QAED,CAAK,CAAC,EACN,CAAC,cAEHxB,IAAA,CAAAE,SAAA,GAAI,CACL,EACE,CAAC,cACNF,IAAA,QAAAwB,QAAA,CAAMX,IAAI,CAAM,CAAC,EACd,CAAC,cACNb,IAAA,QACE0B,KAAK,CAAE,CAAEQ,SAAS,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAEtEL,mBAAmB,WAAAkB,MAAA,CAAalB,mBAAmB,EAAK,EAAE,CACxD,CAAC,EACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAAhB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}