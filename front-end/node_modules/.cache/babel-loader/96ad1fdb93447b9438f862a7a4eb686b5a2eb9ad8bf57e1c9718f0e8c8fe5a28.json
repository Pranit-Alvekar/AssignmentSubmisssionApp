{"ast":null,"code":"import _slicedToArray from\"E:/Project/AssignmentSubmisssionApp/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import\"./App.css\";import{Routes,Route}from\"react-router-dom\";import jwt_decode from\"jwt-decode\";import Dashboard from\"./Dashboard\";import Homepage from\"./Homepage\";import Login from\"./Login\";import PrivateRoute from\"./PrivateRoute\";import AssignmentView from\"./AssignmentView\";import\"bootstrap/dist/css/bootstrap.min.css\";import CodeReviewerDashboard from\"./CodeReviewerDashboard\";import CodeReviewAssignmentView from\"./CodeReviewAssignmentView/CodeReviewAssignmentView\";import{useUser}from\"./UserProvider\";import Register from\"./Register\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// This will log \"Hello\" to the console when the component renders\n//const [jwt, setJwt] = useLocalState(\"\", \"jwt\");\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),roles=_useState2[0],setRoles=_useState2[1];var user=useUser();useEffect(function(){setRoles(getRolesFromJWT());},[user.jwt]);function getRolesFromJWT(){if(user.jwt){var decodedJWT=jwt_decode(user.jwt);return decodedJWT.authorities;}return[];}return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:roles.find(function(role){return role===\"ROLE_CODE_REVIEWER\";})?/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(CodeReviewerDashboard,{})}):/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/assignments/:assignmentId\",element:roles.find(function(role){return role===\"ROLE_CODE_REVIEWER\";})?/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(CodeReviewAssignmentView,{})}):/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AssignmentView,{})})}),/*#__PURE__*/_jsx(Route,{path:\"login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Homepage,{})}),/*#__PURE__*/_jsx(Route,{path:\"register\",element:/*#__PURE__*/_jsx(Register,{})})]});}export default App;","map":{"version":3,"names":["useEffect","useState","Routes","Route","jwt_decode","Dashboard","Homepage","Login","PrivateRoute","AssignmentView","CodeReviewerDashboard","CodeReviewAssignmentView","useUser","Register","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","roles","setRoles","user","getRolesFromJWT","jwt","decodedJWT","authorities","children","path","element","find","role"],"sources":["E:/Project/AssignmentSubmisssionApp/front-end/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Homepage from \"./Homepage\";\r\nimport Login from \"./Login\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport AssignmentView from \"./AssignmentView\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport CodeReviewerDashboard from \"./CodeReviewerDashboard\";\r\nimport CodeReviewAssignmentView from \"./CodeReviewAssignmentView/CodeReviewAssignmentView\";\r\nimport {  useUser } from \"./UserProvider\";\r\nimport Register from \"./Register\";\r\n\r\nfunction App() {\r\n  // This will log \"Hello\" to the console when the component renders\r\n  //const [jwt, setJwt] = useLocalState(\"\", \"jwt\");\r\n  const [roles, setRoles] = useState([]);\r\n  const user = useUser();\r\n\r\n  useEffect(()=>{\r\n    setRoles(getRolesFromJWT());\r\n  },[user.jwt]);\r\n\r\n  function getRolesFromJWT() {\r\n    if (user.jwt) {\r\n      const decodedJWT = jwt_decode(user.jwt);\r\n      return decodedJWT.authorities;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  return (\r\n    \r\n      <Routes>\r\n        <Route\r\n          path=\"/dashboard\"\r\n          element={\r\n            roles.find((role) => role === \"ROLE_CODE_REVIEWER\") ? (\r\n              <PrivateRoute>\r\n                <CodeReviewerDashboard />\r\n              </PrivateRoute>\r\n            ) : (\r\n              <PrivateRoute>\r\n                <Dashboard />\r\n              </PrivateRoute>\r\n            )\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/assignments/:assignmentId\"\r\n          element={\r\n            roles.find((role) => role === \"ROLE_CODE_REVIEWER\") ? (\r\n              <PrivateRoute>\r\n                <CodeReviewAssignmentView />\r\n              </PrivateRoute>\r\n            ) : (\r\n              <PrivateRoute>\r\n                <AssignmentView />\r\n              </PrivateRoute>\r\n            )\r\n          }\r\n        ></Route>\r\n        <Route path=\"login\" element={<Login />} />\r\n        <Route path=\"/\" element={<Homepage />} />\r\n        <Route path=\"register\" element={<Register />} />\r\n      </Routes>\r\n    \r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"mIAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,WAAW,CAElB,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,MAAO,CAAAC,UAAU,KAAM,YAAY,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,sCAAsC,CAC7C,MAAO,CAAAC,qBAAqB,KAAM,yBAAyB,CAC3D,MAAO,CAAAC,wBAAwB,KAAM,qDAAqD,CAC1F,OAAUC,OAAO,KAAQ,gBAAgB,CACzC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb;AACA;AACA,IAAAC,SAAA,CAA0BlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,GAAM,CAAAI,IAAI,CAAGZ,OAAO,CAAC,CAAC,CAEtBZ,SAAS,CAAC,UAAI,CACZuB,QAAQ,CAACE,eAAe,CAAC,CAAC,CAAC,CAC7B,CAAC,CAAC,CAACD,IAAI,CAACE,GAAG,CAAC,CAAC,CAEb,QAAS,CAAAD,eAAeA,CAAA,CAAG,CACzB,GAAID,IAAI,CAACE,GAAG,CAAE,CACZ,GAAM,CAAAC,UAAU,CAAGvB,UAAU,CAACoB,IAAI,CAACE,GAAG,CAAC,CACvC,MAAO,CAAAC,UAAU,CAACC,WAAW,CAC/B,CACA,MAAO,EAAE,CACX,CAEA,mBAEIX,KAAA,CAACf,MAAM,EAAA2B,QAAA,eACLd,IAAA,CAACZ,KAAK,EACJ2B,IAAI,CAAC,YAAY,CACjBC,OAAO,CACLT,KAAK,CAACU,IAAI,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,GAAK,oBAAoB,GAAC,cACjDlB,IAAA,CAACP,YAAY,EAAAqB,QAAA,cACXd,IAAA,CAACL,qBAAqB,GAAE,CAAC,CACb,CAAC,cAEfK,IAAA,CAACP,YAAY,EAAAqB,QAAA,cACXd,IAAA,CAACV,SAAS,GAAE,CAAC,CACD,CAEjB,CACF,CAAC,cACFU,IAAA,CAACZ,KAAK,EACJ2B,IAAI,CAAC,4BAA4B,CACjCC,OAAO,CACLT,KAAK,CAACU,IAAI,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,GAAK,oBAAoB,GAAC,cACjDlB,IAAA,CAACP,YAAY,EAAAqB,QAAA,cACXd,IAAA,CAACJ,wBAAwB,GAAE,CAAC,CAChB,CAAC,cAEfI,IAAA,CAACP,YAAY,EAAAqB,QAAA,cACXd,IAAA,CAACN,cAAc,GAAE,CAAC,CACN,CAEjB,CACK,CAAC,cACTM,IAAA,CAACZ,KAAK,EAAC2B,IAAI,CAAC,OAAO,CAACC,OAAO,cAAEhB,IAAA,CAACR,KAAK,GAAE,CAAE,CAAE,CAAC,cAC1CQ,IAAA,CAACZ,KAAK,EAAC2B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEhB,IAAA,CAACT,QAAQ,GAAE,CAAE,CAAE,CAAC,cACzCS,IAAA,CAACZ,KAAK,EAAC2B,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEhB,IAAA,CAACF,QAAQ,GAAE,CAAE,CAAE,CAAC,EAC1C,CAAC,CAGf,CAEA,cAAe,CAAAK,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}