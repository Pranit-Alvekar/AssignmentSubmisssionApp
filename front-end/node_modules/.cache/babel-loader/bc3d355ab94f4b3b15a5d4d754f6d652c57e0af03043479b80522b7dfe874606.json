{"ast":null,"code":"import _slicedToArray from\"E:/Project/AssignmentSubmisssionApp/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import ajax from\"../Services/fetchService\";import{Button,Card,Col,Row}from\"react-bootstrap\";import StatusBadge from\"../StatusBadge\";import{useUser}from\"../UserProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var navigate=useNavigate();var user=useUser();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),assignments=_useState2[0],setAssignments=_useState2[1];useEffect(function(){ajax(\"api/assignments\",\"GET\",user.jwt).then(function(assignmentsData){setAssignments(assignmentsData);});if(!user.jwt)navigate(\"/login\");},[user.jwt]);function createAssignment(){ajax(\"api/assignments\",\"POST\",user.jwt).then(function(assignment){navigate(\"/assignments/\".concat(assignment.id));// window.location.href = `/assignments/${assignment.id}`;\n});}return/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"2em\"},children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end\",style:{cursor:\"pointer\"},onClick:function onClick(){user.setJwt(null);navigate(\"/login\");},children:\"Logout\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(Button,{size:\"lg\",onClick:function onClick(){return createAssignment();},children:\"Submit New Assignment\"})}),assignments?/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-5\",style:{gridTemplateColumns:\"repeat(auto-fill,18rem)\"},children:assignments.map(function(assignment){return/*#__PURE__*/_jsx(Card,{style:{width:\"18rem\",height:\"18rem\",backgroundColor:\"#b5e7a0\"},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"d-flex flex-column justify-content-around\",children:[/*#__PURE__*/_jsxs(Card.Title,{children:[\"Assignment #\",assignment.number]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex alignitems-start\",children:/*#__PURE__*/_jsx(StatusBadge,{text:assignment.status})}),/*#__PURE__*/_jsxs(Card.Text,{style:{marginTop:\"1em\"},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Github URL:\"}),\" \",assignment.githuburl,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Branch:\"}),\" \",assignment.branch]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){window.location.href=\"/assignments/\".concat(assignment.id);},children:\"Edit\"})]})},assignment.id);})}):/*#__PURE__*/_jsx(_Fragment,{})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","ajax","Button","Card","Col","Row","StatusBadge","useUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","navigate","user","_useState","_useState2","_slicedToArray","assignments","setAssignments","jwt","then","assignmentsData","createAssignment","assignment","concat","id","style","margin","children","className","cursor","onClick","setJwt","size","gridTemplateColumns","map","width","height","backgroundColor","Body","Title","number","text","status","Text","marginTop","githuburl","branch","variant","window","location","href"],"sources":["E:/Project/AssignmentSubmisssionApp/front-end/src/Dashboard/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ajax from \"../Services/fetchService\";\r\nimport { Button, Card, Col, Row } from \"react-bootstrap\";\r\nimport StatusBadge from \"../StatusBadge\";\r\nimport { useUser } from \"../UserProvider\";\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  const user = useUser();\r\n  const [assignments, setAssignments] = useState(null);\r\n\r\n  useEffect(() => {\r\n    ajax(\"api/assignments\", \"GET\", user.jwt).then((assignmentsData) => {\r\n      setAssignments(assignmentsData);\r\n    });\r\n    if (!user.jwt) navigate(\"/login\");\r\n  }, [user.jwt]);\r\n\r\n  function createAssignment() {\r\n    ajax(\"api/assignments\", \"POST\", user.jwt).then((assignment) => {\r\n      navigate(`/assignments/${assignment.id}`);\r\n      // window.location.href = `/assignments/${assignment.id}`;\r\n    });\r\n  }\r\n  return (\r\n    <div style={{ margin: \"2em\" }}>\r\n      <Row>\r\n        <Col>\r\n          <div\r\n            className=\"d-flex justify-content-end\"\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => {\r\n              user.setJwt(null);\r\n              navigate(\"/login\");\r\n            }}\r\n          >\r\n            Logout\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <div className=\"mb-4\">\r\n        <Button size=\"lg\" onClick={() => createAssignment()}>\r\n          Submit New Assignment\r\n        </Button>\r\n      </div>\r\n      {assignments ? (\r\n        <div\r\n          className=\"d-grid gap-5\"\r\n          style={{ gridTemplateColumns: \"repeat(auto-fill,18rem)\" }}\r\n        >\r\n          {assignments.map((assignment) => (\r\n            <Card\r\n              key={assignment.id}\r\n              style={{ width: \"18rem\", height: \"18rem\" , backgroundColor:\"#b5e7a0\" }}\r\n              \r\n            >\r\n              <Card.Body className=\"d-flex flex-column justify-content-around\">\r\n                <Card.Title>Assignment #{assignment.number}</Card.Title>\r\n                <div className=\"d-flex alignitems-start\">\r\n                  <StatusBadge text={assignment.status} />\r\n                </div>\r\n\r\n                <Card.Text style={{ marginTop: \"1em\" }}>\r\n                  <b>Github URL:</b> {assignment.githuburl}\r\n                  <br />\r\n                  <b>Branch:</b> {assignment.branch}\r\n                </Card.Text>\r\n\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() => {\r\n                    window.location.href = `/assignments/${assignment.id}`;\r\n                  }}\r\n                >\r\n                  Edit\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}